sequenceDiagram
    participant Socket as SocketIsolate
    participant Buffer as CircularBuffer
    participant Processor as DataProcessor
    participant Config as DeviceConfig

    Socket->>Buffer: Raw TCP data (16-bit chunks)
    Buffer->>Config: Get samplesPerPacket
    Buffer->>Buffer: Store in circular buffer
    Note over Buffer: Size = samplesPerPacket
    Buffer->>Config: Get dataMask & channelMask
    Buffer->>Processor: Extract samples
    Note over Processor: Single bit operation<br>using precalculated masks
    Processor->>Config: Get dividingFactor
    Processor->>Processor: Apply modulo operation
    Note over Processor: Only process samples<br>where index % factor == 0